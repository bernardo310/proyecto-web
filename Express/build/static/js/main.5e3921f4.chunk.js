(this.webpackJsonpnoloscontrates_client=this.webpackJsonpnoloscontrates_client||[]).push([[0],{104:function(e,t,a){e.exports=a(166)},109:function(e,t,a){},110:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o),i=(a(109),a(110),a(168)),s=a(172),c=function(){return r.a.createElement(s.a,{variant:"light",className:"text-dark shadow fixed-top bg-light"},r.a.createElement(i.a,null,r.a.createElement(s.a.Brand,{href:"/",className:"text-dark"},"\xa1No los Contrates!")))},u=a(13),p=a(14),d=a(19),h=a(16),m=a(15),f=a(82),E=a(57),b=a(95),v=a(169),y=a(173),g=a(42),x=a(30),O=function(e){return r.a.createElement(y.a,{className:"p-4 shadow round my-2"},r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("h4",null,e.expediente.servidorPublico),r.a.createElement("h5",{className:"text-danger"},e.expediente.sancionImpuesta),r.a.createElement("p",null,e.expediente.inicio," - ",e.expediente.fin),r.a.createElement("p",null,"Resolucion: ",e.expediente.fechaResol)),r.a.createElement(g.a,null,r.a.createElement("h6",null,e.expediente.causa),r.a.createElement("p",null,e.expediente.dependencia),r.a.createElement("p",null,e.expediente.autoridad),r.a.createElement("p",null,"$",e.expediente.monto),e.id_expediente?"Expediente: "+e.id_expediente:r.a.createElement(x.a,{className:"text-cyan",to:"/expediente/".concat(e.expediente.id_expediente)},"Ver Expediente"))))},k=a(54),C=a(56),N=a.n(C),S=a(102);a(145);N.a.locale("es",{monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_")});var D=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getValue=n.getValue.bind(Object(d.a)(n)),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.togglePicker=n.togglePicker.bind(Object(d.a)(n)),n.selectDate=n.selectDate.bind(Object(d.a)(n)),n.state={value:n.getValue(),file:"",showPicker:!1},n}return Object(p.a)(a,[{key:"getValue",value:function(){return this.props.value?this.props.value:"date"!==this.props.type||this.props.value?"":N()(new Date).format("DD MMM YYYY")}},{key:"getDate",value:function(){return this.props.value?N()(this.props.value,"DD MMM YYYY").toDate():new Date}},{key:"handleChange",value:function(e){var t;if(t="select"===this.props.as?l.a.findDOMNode(this.select).value:e.target.value,this.setState({value:t}),"file"===this.props.type){var a=document.querySelector("[type=file]").files;this.props.multiple||(a=a[0]),t=a}this.handleModifier(t)}},{key:"handleModifier",value:function(e){var t;this.props.modifier&&(void 0!==this.props.args?Array.isArray(this.props.args)?(t=this.props).modifier.apply(t,Object(k.a)(this.props.args).concat([e])):this.props.modifier(this.props.args,e):this.props.modifier(e))}},{key:"selectDate",value:function(e){this.setDate(e),this.togglePicker()}},{key:"setDate",value:function(e){var t=e;this.setState({value:t}),this.handleModifier(t)}},{key:"togglePicker",value:function(){this.setState({showPicker:!this.state.showPicker})}},{key:"componentDidMount",value:function(){if("date"===this.props.type&&""===this.props.value){var e=this.getDate();this.setDate(e)}}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({value:this.getValue()})}},{key:"renderCalendar",value:function(){return this.state.showPicker?r.a.createElement(S.a,{selected:this.getDate(),minDate:new Date(2e3,0,1),width:285,height:285,className:"mt-2",locale:{blank:"Selecciona una fecha...",headerFormat:"DD MMM 20YY",todayLabel:{long:"Hoy"},weekdays:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],weekStartsOn:0},theme:{selectionColor:"#FC6767",textColor:{default:"#333",active:"#FFF"},weekdayColor:"#fff",headerColor:"#FC6767",floatingNav:{background:"#FC6767",color:"#FFF",chevron:"#FFA726"}},displayOptions:{showTodayHelper:!1},onSelect:this.selectDate}):null}},{key:"renderLabel",value:function(){if(this.props.label)return r.a.createElement(E.a.Label,{className:"mt-3"},this.props.label)}},{key:"render",value:function(){return"date"!==this.props.type?r.a.createElement(n.Fragment,null,this.renderLabel(),r.a.createElement(E.a.Control,{className:this.props.className,type:this.props.type,placeholder:this.props.placeholder,onChange:this.handleChange,value:this.state.value,style:this.props.styles,onKeyPress:this.props.onKeyPress?this.props.onKeyPress:null,multiple:!!this.props.multiple&&this.props.multiple,accept:this.props.accept})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:"ml-0 mr-0"},r.a.createElement(g.a,{xs:3,xl:2,className:"pl-0 text-right"},r.a.createElement(b.a,{variant:"outline-secondary",className:"d-inline-block",onClick:this.togglePicker},r.a.createElement("i",{className:"fas fa-calendar"}))),r.a.createElement(g.a,{xs:9,xl:10},r.a.createElement(E.a.Control,{className:(this.props.className?this.props.className:"")+" ml-2 d-inline-block",type:"text",disabled:!0,value:this.state.value}))),this.renderCalendar())}}]),a}(n.Component),A=function(e){var t=e.alerta,a=e.modifier,n=t.correo;return r.a.createElement(i.a,{fluid:!0},r.a.createElement(D,{label:"Correo electr\xf3nico",type:"text",value:n,modifier:a,args:"correo"}))},j=a(96);function w(e,t){"object"===typeof t&&(t=t.toString()),e({type:"SHOW_ALERT",payload:t}),setTimeout((function(){return e({type:"CLEAR_ALERT"})}),5e3)}var _=a.n(j).a.create({baseURL:""}),I=function(e){return _.get("".concat("/fondos","?page=").concat(e))},T=function(e){return _.get("".concat("/buscar","?nombre=").concat(e))},R=function(e,t,a,n,r){return _.post("/notificaciones",{correo:e,reporte:t,columna:a,valorBusqueda:n,valorPrevio:r})},F=function(){return function(e){e({type:"CLEAR"})}},P=a(10),M=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={avanzado:!1,columna:"dependencia",filtro:""},n.handleFilter=n.handleFilter.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.getFondos(this.props.count)}},{key:"componentDidUpdate",value:function(){var e=this;null!==this.props.alerta&&this.props.modalComponent("Agregar Alerta",r.a.createElement(A,{alerta:this.props.alerta,modifier:this.props.setPropiedadAlerta}),(function(){return e.props.crearAlerta(null)}),(function(){return e.props.postAlerta(e.props.alerta)}))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity)return e.stopPropagation();var t=e.target.elements.busqueda.value;this.props.buscarExpedientes(t)}},{key:"handleFilter",value:function(){var e=l.a.findDOMNode(this.refs.select).value;this.setState({columna:e})}},{key:"crearAlerta",value:function(){null!==this.props.expedientes&&this.props.crearAlerta({correo:"",reporte:1,columna:1,valorBusqueda:this.props.busqueda,valorPrevio:this.props.expedientes.length})}},{key:"filtrarExpedientes",value:function(){var e=this;return null!==this.state.columna&&null!==this.state.filtro&&""!==this.state.filtro?this.props.expedientes.filter((function(t){var a=t[e.state.columna];if(a){a=a.toLowerCase();var n=e.state.filtro.toLowerCase();return a.startsWith(n)||a.includes(n)}return!1})):this.props.expedientes}},{key:"renderExpedientes",value:function(){if(null!==this.props.expedientes)return this.filtrarExpedientes().map((function(e,t){return r.a.createElement(O,{key:t,expediente:e})}))}},{key:"renderAvanzado",value:function(){var e=this;if(this.state.avanzado)return r.a.createElement(f.a,{className:"mt-2 mx-0"},r.a.createElement(E.a.Control,{type:"text",className:"w-50 d-inline-block",value:this.state.filtro,onChange:function(t){return e.setState({filtro:t.target.value})}}),r.a.createElement(E.a.Control,{as:"select",ref:"select",className:"w-50 d-inline-block",onChange:this.handleFilter},r.a.createElement("option",{value:"dependencia"},"Dependencia"),r.a.createElement("option",{value:"sancionimpuesta"},"Sanci\xf3n Impuesta"),r.a.createElement("option",{value:"autoridad"},"Autoridad"),r.a.createElement("option",{value:"fechaResol"},"Fecha Resoluci\xf3n"),r.a.createElement("option",{value:"causa"},"Causa"),r.a.createElement("option",{value:"monto"},"Monto"),r.a.createElement("option",{value:"inicio"},"Fecha Inicio"),r.a.createElement("option",{value:"fin"},"Fecha Fin")))}},{key:"renderBoton",value:function(){var e=this;if(this.props.expedientes&&null!==this.props.expedientes)return r.a.createElement(b.a,{variant:"link",className:"px-0 text-white",onClick:function(){return e.setState({avanzado:!e.state.avanzado})}},"Avanzado")}},{key:"render",value:function(){var e=this,t=null===this.props.expedientes?"20vh":32,a=this.props.fondo;return r.a.createElement(i.a,{fluid:!0,className:"px-0 view",style:{marginTop:60}},r.a.createElement(f.a,null,r.a.createElement(i.a,{style:{paddingTop:t,paddingBottom:t,backgroundImage:"url(".concat(a,")")},className:"px-0 background-image"},r.a.createElement("h1",{className:"text-white"},"Consulta informaci\xf3n sobre servidores p\xfablicos"),r.a.createElement("h2",{className:"text-white"},"Toda la informaci\xf3n es p\xfablica y transparente"),r.a.createElement(E.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(E.a.Label,{className:"d-block text-white"},"Buscar un funcionario"),r.a.createElement(E.a.Control,{type:"text",name:"busqueda",className:"d-inline-block",placeholder:"Ingresa un nombre o RFC",value:this.props.busqueda,onChange:function(t){return e.props.setBusqueda(t.target.value)},style:{maxWidth:"80%"},required:!0}),r.a.createElement(b.a,{type:"submit",className:"d-inline-block",style:{marginTop:-5,minWidth:"20%"},disabled:this.props.buscando},this.props.buscando?r.a.createElement(v.a,{animation:"border",variant:"light"}):"Buscar"),this.renderAvanzado(),this.renderBoton()))),r.a.createElement(f.a,null,r.a.createElement(i.a,{className:"px-0",id:"busqueda",style:{overflowY:"scroll",maxHeight:"80vh"}},this.renderExpedientes())),r.a.createElement(b.a,{id:"notificaciones",onClick:function(){return e.crearAlerta()},disabled:null===this.props.expedientes},r.a.createElement("i",{className:"fa fa-2x fa-bell"})))}}]),a}(n.Component),B=Object(P.b)((function(e){return{expedientes:e.expedientes.expedientes,busqueda:e.expedientes.busqueda,alerta:e.alertas.alerta,buscando:e.expedientes.buscando,count:e.fondos.count}}),{getFondos:function(e){return function(t){I(e).then((function(e){var a=e.data.results;t({type:"FONDOS_RECIBIDOS",payload:a})})).catch((function(e){w(t,e)}))}},postAlerta:function(e){return function(t){var a=e.correo,n=e.reporte,r=e.columna,o=e.valorBusqueda,l=e.valorPrevio;if(""===a||!a)return w(t,"Debes ingresar un correo electr\xf3nico v\xe1lido.");R(a,n,r,o,l).then((function(e){!function(e,t){e({type:"SHOW_SUCCESS",payload:t}),setTimeout((function(){return e({type:"CLEAR_SUCCESS"})}),5e3)}(t,"Notificacion guardada con \xe9xito.")})).catch((function(e){w(t,"Hubo un error al generar la alerta.")}))}},setBusqueda:function(e){return function(t){t({type:"SET_BUSQUEDA",payload:e})}},crearAlerta:function(e){return function(t){t({type:"CREAR_ALERTA",payload:e})}},modalComponent:function(e,t,a,n){return function(r){r({type:"MODAL_COMPONENT",payload:{title:e,component:t,onClose:a,callback:n}})}},buscarExpedientes:function(e){return function(t){t({type:"BUSCANDO"}),T(e).then((function(e){var a=e.data.registros;t({type:"EXPEDIENTES_RECIBIDOS",payload:a})})).catch((function(e){w(t,"Hubo un error al realizar la b\xfasqueda.")}))}},setPropiedadAlerta:function(e,t){return function(a){a({type:"SET_PROPIEDAD_ALERTA",payload:{key:e,value:t}})}}})(M),L=a(170),q=function(e){return r.a.createElement(y.a,{className:"p-4 shadow round my-3"},r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(L.a,{src:e.noticia.image,className:"mw-100 w-100"})),r.a.createElement(g.a,null,r.a.createElement("h4",null,e.noticia.title),r.a.createElement("h5",null,e.noticia.publishedAt),r.a.createElement("h6",null,e.noticia.source.name),r.a.createElement(x.a,{className:"text-cyan",to:e.noticia.url},"Ver Noticia"))))},H=function(e){return _.get("".concat("/buscarNoticia","?nombre=").concat(e))},z=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.busqueda&&this.props.getNoticias(this.props.busqueda);var e=this.getIdExpediente();e&&this.props.getExpediente(e)}},{key:"componentDidUpdate",value:function(){this.props.busqueda||Object(x.c)("/")}},{key:"getIdExpediente",value:function(){return this.props.location.pathname.substring(12)}},{key:"renderNoticias",value:function(){return null===this.props.noticias?r.a.createElement(v.a,{animation:"border",variant:"dark"}):this.props.noticias&&null!==this.props.noticias?this.props.noticias.map((function(e,t){return r.a.createElement(q,{key:t,noticia:e})})):void 0}},{key:"renderExpediente",value:function(){if(this.props.expediente&&null!==this.props.expediente)return r.a.createElement(O,{expediente:this.props.expediente,id_expediente:this.getIdExpediente()})}},{key:"render",value:function(){return r.a.createElement(i.a,{style:{marginTop:70},className:"px-0 view"},r.a.createElement(i.a,{className:"px-0"},r.a.createElement("h2",{className:"text-white"},"Expediente"),this.renderExpediente(),r.a.createElement("h2",{className:"text-white"},"Noticias"),r.a.createElement("div",{style:{overflowY:"scroll",maxHeight:"60vh",paddingBottom:60}},this.renderNoticias())))}}]),a}(n.Component),U=Object(P.b)((function(e){return{expediente:e.expedientes.expediente,busqueda:e.expedientes.busqueda,noticias:e.noticias.noticias}}),{getNoticias:function(e){return function(t){H(e).then((function(e){var a=e.data.resp.articles;t({type:"NOTICIAS_RECIBIDAS",payload:a})})).catch((function(e){w(t,"Hubo un error al obtener noticias.")}))}},getExpediente:function(e){return function(t){t({type:"SET_EXPEDIENTE",payload:e})}}})(z),W=a(52),Y=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return this.props.showSuccess?r.a.createElement(W.a,{variant:"success",className:"fixed-top fixed-right ml-auto mr-2 mt-3",style:{maxWidth:500,zIndex:2500},onClose:this.props.hideAlert,dismissible:!0},this.props.content):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),V=Object(P.b)((function(e){return{showSuccess:e.modal.showSuccess,content:e.modal.content}}),{hideAlert:F})(Y),J=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return this.props.showAlert?r.a.createElement(W.a,{variant:"danger",className:"fixed-top fixed-right ml-auto mr-2 mt-3",style:{maxWidth:500,zIndex:2500},onClose:this.props.hideAlert,dismissible:!0},this.props.content):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),X=Object(P.b)((function(e){return{showAlert:e.modal.showAlert,content:e.modal.content}}),{hideAlert:F})(J),K=a(171),Q=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleClose=n.handleClose.bind(Object(d.a)(n)),n.state={show:!1},n}return Object(p.a)(a,[{key:"handleClose",value:function(e){this.props.setResponse(e),!0===e?this.props.callback():this.props.onClose&&this.props.onClose(),this.props.clear()}},{key:"render",value:function(){var e=this;return r.a.createElement(K.a,{id:"modal-confirm",show:this.props.show,style:{borderRadius:25},size:this.props.size?this.props.size:"lg",onHide:this.props.clear},r.a.createElement(K.a.Header,null,r.a.createElement(K.a.Title,{className:"pl-3 pr-3"},this.props.title?r.a.createElement("b",null,this.props.title):"Precauci\xf3n")),r.a.createElement(K.a.Body,{style:{backgroundColor:"#fff"}},this.props.component?this.props.component:r.a.createElement("p",null,this.props.content)),r.a.createElement(K.a.Footer,{className:"text-right",style:{backgroundColor:"#fff"}},r.a.createElement(b.a,{variant:"link",className:"text-secondary",onClick:function(){return e.handleClose(!1)}},"Cancelar"),r.a.createElement(b.a,{onClick:function(){return e.handleClose(!0)}},"OK")))}}]),a}(n.Component),$=Object(P.b)((function(e){return{show:e.modal.show,content:e.modal.content,callback:e.modal.callback,title:e.modal.title,onClose:e.modal.onClose,component:e.modal.component}}),{setResponse:function(e){return function(t){t({type:"SET_RESPONSE",payload:e}),t({type:"HIDE_MODAL"})}},clear:function(e){return function(e){e({type:"CLEAR"})}}})(Q),G=Object(P.b)((function(e){return{fondo:e.fondos.fondo,current:e.fondos.current,page:e.fondos.page}}),{setFondo:function(e,t){return function(a){e>9?I(t).then((function(e){var t=e.data.results;a({type:"FONDOS_RECIBIDOS",payload:t})})).catch((function(e){w(a,e)})):a({type:"SET_FONDO"})}}})((function(e){return setTimeout((function(){return e.setFondo(e.current,e.page)}),1e4),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{id:"background",className:"px-0",style:{backgroundImage:"url(".concat(e.fondo,")")},fluid:!0}),r.a.createElement(i.a,{fluid:!0,id:"overlay"}),r.a.createElement(i.a,{fluid:!0,className:"px-0",id:"home",style:{overflow:"hidden",zIndex:1}},r.a.createElement(c,null),r.a.createElement(x.b,null,r.a.createElement(B,{path:"/"}),r.a.createElement(U,{path:"/expediente/:id_expediente/*"})),r.a.createElement("footer",null,r.a.createElement("p",null,"Una iniciativa de"," ",r.a.createElement("a",{href:"https://redesquintopoder.org.mx",target:"_blank",rel:"noopener noreferrer"},"Redes Quinto Poder IDEA A.C."))),r.a.createElement(V,null),r.a.createElement($,null),r.a.createElement(X,null)))})),Z=a(35),ee=a(101),te=a(8),ae={noticias:null},ne={expedientes:null,expediente:null,busqueda:"",buscando:!1},re={response:"",show:!1,content:"",callback:""},oe={alerta:null},le={fondos:null,fondo:null,page:0,current:0},ie=Object(Z.c)({expedientes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"EXPEDIENTES_RECIBIDOS":case"EXPEDIENTE_RECIBIDO":return Object(te.a)({},e,{expedientes:n,buscando:!1});case"SET_BUSQUEDA":return Object(te.a)({},e,{busqueda:n});case"BUSCANDO":return Object(te.a)({},e,{buscando:!0});case"SET_EXPEDIENTE":var r=e.expedientes;null===r&&(r=[]);var o=(r=Object(k.a)(r)).find((function(e){return e.id_expediente===n}));return Object(te.a)({},e,{expediente:o});default:return Object(te.a)({},e)}},noticias:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"NOTICIAS_RECIBIDAS":return Object(te.a)({},e,{noticias:n});default:return Object(te.a)({},e)}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return Object(te.a)({},e,{show:!0,content:t.payload.content,callback:t.payload.callback});case"HIDE_MODAL":return Object(te.a)({},e,{show:!1});case"SET_RESPONSE":return Object(te.a)({},e,{response:t.payload});case"MODAL_COMPONENT":return Object(te.a)({},e,{show:!0,component:t.payload.component,title:t.payload.title,onClose:t.payload.onClose,callback:t.payload.callback});case"SHOW_ALERT":return Object(te.a)({},e,{showAlert:!0,content:t.payload});case"SHOW_SUCCESS":return Object(te.a)({},e,{showSuccess:!0,content:t.payload});case"CLEAR":return{INITIAL_STATE:re};default:return Object(te.a)({},e)}},alertas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CREAR_ALERTA":return Object(te.a)({},e,{alerta:n});case"SET_PROPIEDAD_ALERTA":var r=n.key,o=n.value,l=Object(te.a)({},e.alerta);return l[r]=o,Object(te.a)({},e,{alerta:l});default:return e}},fondos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FONDOS_RECIBIDOS":var r=n[0].urls.regular;return Object(te.a)({},e,{fondos:n,fondo:r,current:1,page:e.page+1});case"SET_FONDO":if(null===e.fondos)return Object(te.a)({},e);var o=e.fondos[e.current].urls.regular;return Object(te.a)({},e,{fondo:o});default:return e}}}),se=Object(Z.d)(ie,{},Object(Z.a)(ee.a));var ce=function(){return r.a.createElement(P.a,{store:se},r.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.5e3921f4.chunk.js.map